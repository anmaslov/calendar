---
description: Project-specific rules for Calendar application
alwaysApply: true
---

# Project: Calendar

# Documentation
Не пиши документацию, пока тебя об этом явно не попросили

## Architecture
- Clean Architecture with layers: handler → service → repository
- Use interfaces for dependency injection
- Context should be first parameter in all functions
- Return errors, don't panic

## Layers

### Handler (Delivery)
- HTTP handlers in `/internal/handler`
- Input validation and request parsing
- Response formatting
- No business logic

### Service (Use Cases)
- Business logic in `/internal/service`
- Orchestrates repository calls
- Handles transactions when needed

### Repository (Data Access)
- Database operations in `/internal/repository`
- One repository per aggregate/entity
- Use sqlx or pgx for PostgreSQL

## Naming Conventions
- Interfaces: `EventService`, `EventRepository`
- Implementations: `eventService`, `eventRepository`
- Constructors: `NewEventService()`, `NewEventRepository()`

## Context Usage
- Always pass context as first parameter
- Use context for cancellation and timeouts
- Store request-scoped values (user ID, trace ID)

## Configuration
- Use environment variables
- Config struct in `/internal/config`
- Validate config on startup
